# CIFT Markets - Environment Variables Template
# Copy this file to .env and fill in your actual values
# NEVER commit .env to version control

# =============================================================================
# APPLICATION
# =============================================================================
APP_NAME=CIFT Markets
APP_ENV=development
APP_DEBUG=true
APP_URL=http://localhost:8000
API_VERSION=v1

# =============================================================================
# DATABASE
# =============================================================================
# PostgreSQL
POSTGRES_HOST=localhost
POSTGRES_PORT=5432
POSTGRES_DB=cift_markets
POSTGRES_USER=cift_user
POSTGRES_PASSWORD=changeme123

# QuestDB
QUESTDB_HOST=localhost
QUESTDB_HTTP_PORT=9000
QUESTDB_INFLUX_PORT=9009
QUESTDB_PG_PORT=8812

# ClickHouse (Phase 5-7: 100x faster analytics)
CLICKHOUSE_HOST=localhost
CLICKHOUSE_PORT=8123
CLICKHOUSE_USER=default
CLICKHOUSE_PASSWORD=
CLICKHOUSE_DB=cift_analytics

# Dragonfly (Phase 5-7: 25x faster cache, Redis-compatible)
DRAGONFLY_HOST=localhost
DRAGONFLY_PORT=6379
REDIS_HOST=localhost
REDIS_PORT=6379
REDIS_PASSWORD=
REDIS_DB=0

# =============================================================================
# NATS JETSTREAM (Phase 5-7: Replaces Kafka, 5-10x lower latency)
# =============================================================================
NATS_URL=nats://localhost:4222
NATS_STREAM_MARKET_DATA=MARKET_DATA
NATS_STREAM_ORDERS=ORDERS
NATS_STREAM_SIGNALS=SIGNALS
NATS_STREAM_EVENTS=EVENTS

# Legacy Kafka (deprecated, kept for reference)
# KAFKA_BOOTSTRAP_SERVERS=localhost:9092
# KAFKA_TOPIC_MARKET_DATA=market-data
# KAFKA_TOPIC_PREDICTIONS=predictions
# KAFKA_TOPIC_ORDERS=orders
# KAFKA_TOPIC_POSITIONS=positions

# =============================================================================
# MARKET DATA PROVIDERS
# =============================================================================
# Finnhub (FREE real-time WebSocket for US stocks)
# Get your free key at: https://finnhub.io/register
FINNHUB_API_KEY=your_finnhub_api_key_here

# Polygon.io
POLYGON_API_KEY=your_polygon_api_key_here
POLYGON_BASE_URL=https://api.polygon.io

# Financial Modeling Prep (FREE economic calendar, 250 calls/day)
# Get your free key at: https://financialmodelingprep.com/developer/docs/
FMP_API_KEY=your_fmp_api_key_here

# Alpaca
ALPACA_API_KEY=your_alpaca_api_key_here
ALPACA_SECRET_KEY=your_alpaca_secret_key_here
ALPACA_BASE_URL=https://paper-api.alpaca.markets

# =============================================================================
# PLAID (Real Bank Account Linking & ACH Transfers)
# =============================================================================
# Get your keys at: https://dashboard.plaid.com/developers/keys
PLAID_CLIENT_ID=your_plaid_client_id
PLAID_SECRET=your_plaid_secret
PLAID_ENV=sandbox  # sandbox, development, production

# =============================================================================
# M-PESA (Safaricom Daraja API for Kenya/Africa)
# =============================================================================
# Get your keys at: https://developer.safaricom.co.ke/
MPESA_CONSUMER_KEY=your_mpesa_consumer_key
MPESA_CONSUMER_SECRET=your_mpesa_consumer_secret
MPESA_BUSINESS_SHORT_CODE=174379
MPESA_PASSKEY=your_mpesa_passkey
MPESA_CALLBACK_URL=https://your-domain.com/api/v1/funding/mpesa/callback
MPESA_ENV=sandbox  # sandbox or production

# =============================================================================
# PAYPAL (REST API v2)
# =============================================================================
# Get your keys at: https://developer.paypal.com/dashboard/applications/sandbox
PAYPAL_CLIENT_ID=your_paypal_client_id
PAYPAL_CLIENT_SECRET=your_paypal_client_secret
PAYPAL_ENV=sandbox  # sandbox or live
PAYPAL_RETURN_URL=https://your-domain.com/funding?status=success
PAYPAL_CANCEL_URL=https://your-domain.com/funding?status=cancelled

# =============================================================================
# STRIPE (Cards with 3D Secure & Autofill)
# =============================================================================
# Get your keys at: https://dashboard.stripe.com/apikeys
STRIPE_PUBLISHABLE_KEY=pk_test_your_publishable_key
STRIPE_SECRET_KEY=sk_test_your_secret_key
STRIPE_WEBHOOK_SECRET=whsec_your_webhook_secret

# =============================================================================
# CRYPTO PAYMENTS (Bitcoin, Ethereum, USDT)
# =============================================================================
# For Bitcoin address generation (optional - can use default HD wallet)
BITCOIN_XPUB_KEY=your_extended_public_key
# Etherscan API for Ethereum verification: https://etherscan.io/apis
ETHERSCAN_API_KEY=your_etherscan_api_key
# CoinGecko (free, no key required but optional for higher limits)
COINGECKO_API_KEY=

# =============================================================================
# BROKERS
# =============================================================================
# Interactive Brokers
IB_HOST=127.0.0.1
IB_PORT=7497
IB_CLIENT_ID=1
IB_ACCOUNT=your_ib_account_here

# =============================================================================
# SECURITY
# =============================================================================
SECRET_KEY=change-this-to-a-random-secret-key-min-32-chars
JWT_SECRET_KEY=change-this-to-another-random-secret-key
JWT_ALGORITHM=HS256
JWT_ACCESS_TOKEN_EXPIRE_MINUTES=30
JWT_REFRESH_TOKEN_EXPIRE_DAYS=7

# API Keys
API_KEY_SALT=random-salt-for-api-key-hashing

# =============================================================================
# MONITORING
# =============================================================================
# Prometheus
PROMETHEUS_PORT=9090

# Grafana
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=admin
GRAFANA_PORT=3001

# Jaeger
JAEGER_AGENT_HOST=localhost
JAEGER_AGENT_PORT=6831

# Sentry
SENTRY_DSN=
SENTRY_ENVIRONMENT=development
SENTRY_TRACES_SAMPLE_RATE=1.0

# =============================================================================
# MLOPS
# =============================================================================
# MLflow
MLFLOW_TRACKING_URI=http://localhost:5000
MLFLOW_EXPERIMENT_NAME=cift-markets

# DVC
DVC_REMOTE_URL=

# =============================================================================
# FEATURE STORE (Feast)
# =============================================================================
FEAST_REGISTRY_PATH=./feature_store/registry.db
FEAST_ONLINE_STORE_PATH=./feature_store/online_store.db

# =============================================================================
# TRADING CONFIGURATION
# =============================================================================
# Risk Management
MAX_POSITION_SIZE=10000
MAX_PORTFOLIO_LEVERAGE=2.0
MAX_DRAWDOWN_PCT=15.0
RISK_FREE_RATE=0.045

# Execution
DEFAULT_SLIPPAGE_BPS=1.0
MAKER_FEE_BPS=0.08
TAKER_FEE_BPS=0.08
ORDER_TIMEOUT_SECONDS=30

# Models
MODEL_PREDICTION_HORIZON_MS=500
MODEL_CONFIDENCE_THRESHOLD=0.65
ENSEMBLE_MIN_AGREEMENT=3

# =============================================================================
# PERFORMANCE
# =============================================================================
# Workers
WORKER_PROCESSES=4
WORKER_THREADS=2

# Caching
CACHE_TTL_SECONDS=300
CACHE_MAX_SIZE_MB=1024

# =============================================================================
# LOGGING
# =============================================================================
LOG_LEVEL=INFO
LOG_FORMAT=json
LOG_FILE=logs/cift.log
LOG_ROTATION=1 day
LOG_RETENTION=30 days

# =============================================================================
# DEVELOPMENT
# =============================================================================
HOT_RELOAD=true
DEBUG_SQL=false
PROFILING_ENABLED=false
